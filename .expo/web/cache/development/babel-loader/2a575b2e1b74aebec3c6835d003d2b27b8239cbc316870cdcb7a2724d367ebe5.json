{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport BASE_URL from \"./BaseUrl\";\nimport axios from \"axios\";\nexport var loginUser = createAsyncThunk(\"parent/loginUser\", function () {\n  var _ref = _asyncToGenerator(function* (userData, thunkAPI) {\n    try {\n      var response = yield axios.post(BASE_URL + \"/parents/signin\", userData);\n      return response.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.response.data);\n    }\n  });\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nexport var signUpUser = createAsyncThunk(\"parent/signUpUser\", function () {\n  var _ref2 = _asyncToGenerator(function* (userData, thunkAPI) {\n    try {\n      var response = yield axios.post(BASE_URL + \"/parents/signup\", userData);\n      return response.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.response.data);\n    }\n  });\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var parentSlice = createSlice({\n  name: \"parent\",\n  initialState: {\n    isLoggedIn: false,\n    parent: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      phone: \"\",\n      address: \"\",\n      dob: \"\",\n      parent_type: \"\"\n    },\n    error: \"\",\n    loading: false,\n    token: ''\n  },\n  reducers: {\n    logoutUser: function logoutUser(state) {\n      state.isLoggedIn = false;\n      state.parent = {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        phone: \"\",\n        address: \"\",\n        dob: \"\",\n        parent_type: \"\"\n      };\n      state.error = \"\";\n      state.loading = false;\n      state.token = '';\n    }\n  },\n  extraReducers: _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, loginUser.pending, function (state) {\n    state.loading = true;\n    state.error = \"\";\n  }), loginUser.fulfilled, function (state, action) {\n    state.isLoggedIn = true;\n    state.parent = action.payload;\n    state.error = \"\";\n    state.loading = false;\n    state.token = action.payload.family_parent_token;\n  }), loginUser.rejected, function (state, action) {\n    state.isLoggedIn = false;\n    state.parent = {};\n    state.error = action.payload;\n    state.loading = false;\n  }), signUpUser.pending, function (state) {\n    state.loading = true;\n    state.error = \"\";\n  }), signUpUser.fulfilled, function (state, action) {\n    state.isLoggedIn = true;\n    state.parent = action.payload;\n    state.error = \"\";\n    state.loading = false;\n    state.token = action.payload.family_parent_token;\n  }), signUpUser.rejected, function (state, action) {\n    state.isLoggedIn = false;\n    state.parent = {};\n    state.error = action.payload;\n    state.loading = false;\n  })\n});\nvar logoutUser = parentSlice.actions.logoutUser;\nexport { logoutUser };\nexport default parentSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","BASE_URL","axios","loginUser","_ref","_asyncToGenerator","userData","thunkAPI","response","post","data","error","rejectWithValue","_x","_x2","apply","arguments","signUpUser","_ref2","_x3","_x4","parentSlice","name","initialState","isLoggedIn","parent","email","password","phone","address","dob","parent_type","loading","token","reducers","logoutUser","state","extraReducers","_defineProperty","pending","fulfilled","action","payload","family_parent_token","rejected","actions","reducer"],"sources":["/Users/duraanali/Pictures/Familyga App/frontend/src/store/slices/ParentSlice.js"],"sourcesContent":["// parentSlice.js\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport BASE_URL from \"./BaseUrl\";\nimport axios from \"axios\";\n\n// Async thunk for logging in\nexport const loginUser = createAsyncThunk(\n  \"parent/loginUser\",\n  async (userData, thunkAPI) => {\n    try {\n      const response = await axios.post(`${BASE_URL}/parents/signin`, userData); // corrected endpoint\n      return response.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.response.data);\n    }\n  }\n);\n\n// Async thunk for signing up\nexport const signUpUser = createAsyncThunk(\n  \"parent/signUpUser\",\n  async (userData, thunkAPI) => {\n    try {\n      const response = await axios.post(`${BASE_URL}/parents/signup`, userData); // corrected endpoint\n      return response.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const parentSlice = createSlice({\n  name: \"parent\",\n  initialState: {\n    isLoggedIn: false,\n    parent: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      phone: \"\",\n      address: \"\",\n      dob: \"\",\n      parent_type: \"\",\n    },\n    error: \"\",\n    loading: false,\n    token: ''\n  },\n  reducers: {\n    logoutUser: (state) => {\n      state.isLoggedIn = false;\n      state.parent = {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        phone: \"\",\n        address: \"\",\n        dob: \"\",\n        parent_type: \"\",\n      };\n      state.error = \"\";\n      state.loading = false;\n      state.token = ''\n    },\n  },\n  extraReducers: {\n    [loginUser.pending]: (state) => {\n      state.loading = true;\n      state.error = \"\";\n    },\n    [loginUser.fulfilled]: (state, action) => {\n      state.isLoggedIn = true;\n      state.parent = action.payload;\n      state.error = \"\";\n      state.loading = false;\n      state.token = action.payload.family_parent_token\n    },\n    [loginUser.rejected]: (state, action) => {\n      state.isLoggedIn = false;\n      state.parent = {};\n      state.error = action.payload;\n      state.loading = false;\n    },\n    [signUpUser.pending]: (state) => {\n      state.loading = true;\n      state.error = \"\";\n    },\n    [signUpUser.fulfilled]: (state, action) => {\n      state.isLoggedIn = true;\n      state.parent = action.payload;\n      state.error = \"\";\n      state.loading = false;\n      state.token = action.payload.family_parent_token\n    },\n    [signUpUser.rejected]: (state, action) => {\n      state.isLoggedIn = false;\n      state.parent = {};\n      state.error = action.payload;\n      state.loading = false;\n    },\n  },\n});\n\nexport const { logoutUser } = parentSlice.actions;\nexport default parentSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}